(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[45],{4045:function(t,e,o){"use strict";o.r(e),o.d(e,{AuthModule:function(){return Dt}});var n=o(8583),r=o(3679),s=o(1841),i=o(3423),a=o(7716);let l=(()=>{class t{constructor(){this.today=new Date}ngOnInit(){document.body.classList.add("bg-white")}ngOnDestroy(){document.body.classList.remove("bg-white")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-auth"]],decls:14,vars:0,consts:[[1,"d-flex","login-form-center-align","flex-column","flex-column-fluid","bgi-position-y-bottom","position-x-center","bgi-no-repeat","bgi-size-contain","bgi-attachment-fixed",2,"background-image","url('./assets/media/illustrations/sketchy-1/14.png')"],[1,"d-flex","flex-center","flex-column","flex-column-fluid","p-10","pb-lg-20"],["routerLink","/",1,"mb-12"],["alt","Logo","src","./assets/media/logos/lyc-logo.png",1,"h-45px"],[1,"w-lg-500px","bg-white","rounded","shadow-sm","p-10","p-lg-15","mx-auto"],[1,"d-flex","flex-center","flex-column-auto","p-10","footer"],[1,"d-flex","align-items-center","fw-bold","fs-6"],[1,"text-muted","text-hover-primary","px-2","cursor-pointer"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"a",2),a._UZ(3,"img",3),a.qZA(),a.TgZ(4,"div",4),a._UZ(5,"router-outlet"),a.qZA(),a.qZA(),a.TgZ(6,"div",5),a.TgZ(7,"div",6),a.TgZ(8,"a",7),a._uU(9,"About"),a.qZA(),a.TgZ(10,"a",7),a._uU(11,"Contact"),a.qZA(),a.TgZ(12,"a",7),a._uU(13,"Contact Us"),a.qZA(),a.qZA(),a.qZA(),a.qZA())},directives:[i.yS,i.lC],styles:["[_nghost-%COMP%]{height:100%}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%}.login-form-center-align[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})();var m=o(8049),c=o(2720),u=o(5935);function d(t,e){1&t&&(a.ynx(0),a.TgZ(1,"div",20),a.TgZ(2,"div",21),a._uU(3," The login details are incorrect "),a.qZA(),a.qZA(),a.BQk())}function g(t,e){1&t&&(a.ynx(0),a.TgZ(1,"div",22),a.TgZ(2,"div",21),a._uU(3," Password reset sucessfully. "),a.qZA(),a.qZA(),a.BQk())}function p(t,e){if(1&t&&(a.ynx(0),a.TgZ(1,"div",22),a.TgZ(2,"div",21),a._uU(3),a.qZA(),a.qZA(),a.BQk()),2&t){const t=a.oxw();a.xp6(3),a.hij(" ",t.hasActivatedSuccessMessage," ")}}function f(t,e){1&t&&(a.ynx(0),a.TgZ(1,"span",23),a._uU(2," Please wait... "),a._UZ(3,"span",24),a.qZA(),a.BQk()),2&t&&(a.xp6(1),a.Udp("display","block"))}function h(t,e){1&t&&(a.ynx(0),a.TgZ(1,"span",25),a._uU(2,"Login"),a.qZA(),a.BQk())}function v(t,e){if(1&t&&(a.ynx(0),a.TgZ(1,"div",26),a.TgZ(2,"span",27),a._uU(3),a.qZA(),a.qZA(),a.BQk()),2&t){const t=a.oxw().message;a.xp6(3),a.hij(" ",t," ")}}function b(t,e){if(1&t&&a.YNc(0,v,4,1,"ng-container",3),2&t){const t=e.control;a.Q6J("ngIf",t.hasError(e.validation)&&(t.dirty||t.touched))}}const _=function(t,e){return{"is-invalid":t,"is-valid":e}},Z=function(t){return{validation:"required",message:"Username is required",control:t}},x=function(t){return{validation:"user_name",message:"Username is invalid",control:t}},w=function(t){return{validation:"minLength",message:"Username should have at least 3 symbols",control:t}},T=function(t){return{validation:"maxLength",message:"Username should have maximum 360 symbols",control:t}},q=function(t){return{validation:"required",message:"Password is required",control:t}},k=function(t){return{validation:"minlength",message:"Password should have at least 3 symbols",control:t}},A=function(t){return{validation:"maxLength",message:"Password should have maximum 100 symbols",control:t}};let C=(()=>{class t{constructor(t,e,o,n){this.fb=t,this.authService=e,this.route=o,this.router=n,this.defaultAuth={email:"demo@demo.com",password:"demo"},this.unsubscribe=[],this.isLoading$=this.authService.isLoading$,this.authService.currentUserValue&&this.router.navigate(["/"])}ngOnInit(){this.initForm(),this.hasActivatedSuccessStatus=!1,this.returnUrl=this.route.snapshot.queryParams["returnUrl".toString()]||"/",this.hasMessage="true"==localStorage.getItem("reset_message"),this.route.queryParams.subscribe(t=>{this.token_id=t.token_id,this.authService.activateAccount(this.token_id).subscribe(t=>{this.hasActivatedSuccessStatus=t.status,this.hasActivatedSuccessMessage=t.message})})}get f(){return this.loginForm.controls}initForm(){this.loginForm=this.fb.group({user_name:["CADE",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(320)])],password:["12345678",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(100)])]})}submit(){localStorage.setItem("reset_message","false"),this.hasMessage=!1,this.hasError=!1;const t=this.authService.login(this.f.user_name.value,this.f.password.value).pipe((0,m.P)()).subscribe(t=>{t?this.router.navigate(["exam-registration"]):this.hasError=!0});this.unsubscribe.push(t),this.hasActivatedSuccessStatus=!1}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(r.qu),a.Y36(c.e),a.Y36(i.gz),a.Y36(i.F0))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-login"]],decls:45,vars:52,consts:[["novalidate","novalidate","id","kt_login_signin_form",1,"form","w-100",3,"formGroup","ngSubmit"],[1,"text-center","mb-10"],[1,"text-dark","mb-3"],[4,"ngIf"],[1,"fv-row","mb-10"],[1,"form-label","fs-6","fw-bolder","text-dark"],["placeholder","User Name","type","text","name","user_name","formControlName","user_name","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",2,"text-transform","uppercase",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","justify-content-between","mt-n5"],[1,"d-flex","flex-stack","mb-2"],[1,"form-label","fw-bolder","text-dark","fs-6","mb-0"],["placeholder","Password","type","password","name","password","autocomplete","off","formControlName","password",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],[1,"d-flex","justify-content-center","py-1"],[1,"me-4"],["type","submit","id","kt_sign_in_submit",1,"btn","btn-lg","btn-primary","mb-5","btn-flex","fw-bolder","cursor-pointer",3,"disabled"],["routerLink","/","type","button",1,"btn","btn-lg","btn-light-primary","btn-flex","mb-5","fw-bolder","cursor-pointer"],[1,"text-gray-400","fw-bold","fs-4","text-center"],["routerLink","/auth/registration","id","kt_login_signup",1,"link-primary","fw-bolder"],["routerLink","/auth/forgot-password","id","kt_login_forgot",1,"link-primary","fs-6","fw-bolder"],["formError",""],[1,"mb-lg-15","alert","alert-danger"],[1,"alert-text","font-weight-bold","text-center"],[1,"mb-lg-15","alert","alert-success"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"indicator-label"],[1,"fv-plugins-message-container"],["role","alert",2,"color","red"]],template:function(t,e){if(1&t&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return e.submit()}),a.TgZ(1,"div",1),a.TgZ(2,"h1",2),a._uU(3,"Candidate Registration System for International Examinations"),a.qZA(),a.TgZ(4,"h1",2),a._uU(5,"Sign In"),a.qZA(),a.qZA(),a.YNc(6,d,4,0,"ng-container",3),a.YNc(7,g,4,0,"ng-container",3),a.YNc(8,p,4,1,"ng-container",3),a.TgZ(9,"div",4),a.TgZ(10,"label",5),a._uU(11,"Username"),a.qZA(),a._UZ(12,"input",6),a.GkF(13,7),a.GkF(14,7),a.GkF(15,7),a.GkF(16,7),a.qZA(),a.TgZ(17,"div",4),a.TgZ(18,"div",8),a.TgZ(19,"div",9),a.TgZ(20,"label",10),a._uU(21,"Password"),a.qZA(),a.qZA(),a.qZA(),a._UZ(22,"input",11),a.GkF(23,7),a.GkF(24,7),a.GkF(25,7),a.qZA(),a.TgZ(26,"div",12),a.TgZ(27,"div",13),a.TgZ(28,"button",14),a.YNc(29,f,4,2,"ng-container",3),a.ALo(30,"async"),a.YNc(31,h,3,0,"ng-container",3),a.ALo(32,"async"),a.qZA(),a.qZA(),a.TgZ(33,"a",15),a._uU(34," Cancel "),a.qZA(),a.qZA(),a.TgZ(35,"div",16),a._uU(36," Don't have an account? "),a.TgZ(37,"a",17),a._uU(38),a.ALo(39,"translate"),a.qZA(),a.qZA(),a.TgZ(40,"div",16),a.TgZ(41,"a",18),a._uU(42," Forgot Password ? "),a.qZA(),a.qZA(),a.qZA(),a.YNc(43,b,1,1,"ng-template",null,19,a.W1O)),2&t){const t=a.MAs(44);a.Q6J("formGroup",e.loginForm),a.xp6(6),a.Q6J("ngIf",e.hasError),a.xp6(1),a.Q6J("ngIf",e.hasMessage),a.xp6(1),a.Q6J("ngIf",e.hasActivatedSuccessStatus),a.xp6(4),a.Q6J("ngClass",a.WLB(32,_,e.loginForm.controls.user_name.invalid,e.loginForm.controls.user_name.valid)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(35,Z,e.loginForm.controls.user_name)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(37,x,e.loginForm.controls.user_name)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(39,w,e.loginForm.controls.user_name)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(41,T,e.loginForm.controls.user_name)),a.xp6(6),a.Q6J("ngClass",a.WLB(43,_,e.loginForm.controls.password.invalid,e.loginForm.controls.password.valid)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(46,q,e.loginForm.controls.password)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(48,k,e.loginForm.controls.password)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(50,A,e.loginForm.controls.password)),a.xp6(3),a.Q6J("disabled",e.loginForm.invalid),a.xp6(1),a.Q6J("ngIf",a.lcZ(30,26,e.isLoading$)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(32,28,e.isLoading$)),a.xp6(7),a.Oqu(a.lcZ(39,30,"AUTH.GENERAL.SIGNUP_BUTTON")),a.xp6(3),a.Udp("margin-left","5px")}},directives:[r._Y,r.JL,r.sg,n.O5,r.Fj,r.JJ,r.u,n.mk,n.tP,i.yS],pipes:[n.Ov,u.X$],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),t})();class y{static MatchPassword(t){var e,o,n;(null===(e=t.get("password"))||void 0===e?void 0:e.value)!==(null===(o=t.get("confirm_password"))||void 0===o?void 0:o.value)&&(null===(n=t.get("confirm_password"))||void 0===n||n.setErrors({ConfirmPassword:!0}))}}class F extends class{setAuth(t){this.authToken=t.authToken,this.refreshToken=t.refreshToken}}{constructor(){super(...arguments),this.roles=[]}setUser(t){const e=t;this.u_id=e.u_id,this.user_name=e.user_name||"",this.password=e.password||"",this.confirm_password=e.confirm_password||"",this.school_admission_no=e.school_admission_no||"",this.fullname=e.fullname||"",this.candidate_type=e.candidate_type||1,this.school=e.school||1,this.branch=e.branch||1,this.email=e.email||"",this.confirm_email=e.confirm_email||"",this.pic=e.pic||"./assets/media/users/default.jpg",this.roles=e.roles||[],this.occupation=e.occupation||"",this.companyName=e.companyName||"",this.contact_no_1=e.contact_no_1||"",this.address=e.address,this.socialNetworks=e.socialNetworks}}class O{static MatchEmail(t){var e,o,n;(null===(e=t.get("email"))||void 0===e?void 0:e.value)!==(null===(o=t.get("confirm_email"))||void 0===o?void 0:o.value)&&(null===(n=t.get("confirm_email"))||void 0===n||n.setErrors({mismatch:!0}))}}let P=(()=>{class t{constructor(){}blockPaste(t){t.preventDefault()}blockCopy(t){t.preventDefault()}blockCut(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.lG2({type:t,selectors:[["","appCopyPaste",""]],hostBindings:function(t,e){1&t&&a.NdJ("paste",function(t){return e.blockPaste(t)})("copy",function(t){return e.blockCopy(t)})("cut",function(t){return e.blockCut(t)})}}),t})();function U(t,e){if(1&t&&(a.ynx(0),a.TgZ(1,"div",34),a.TgZ(2,"div",35),a._uU(3),a.qZA(),a.qZA(),a.BQk()),2&t){const t=a.oxw();a.xp6(3),a.hij(" ",t.message," ")}}function J(t,e){if(1&t&&(a.ynx(0),a.TgZ(1,"div",36),a.TgZ(2,"div",35),a._uU(3),a.qZA(),a.qZA(),a.BQk()),2&t){const t=a.oxw();a.xp6(3),a.hij(" ",t.message," Please Check Your Email to activate your account. ")}}function Q(t,e){1&t&&(a.ynx(0),a.TgZ(1,"div",37),a.TgZ(2,"div",38),a._uU(3," 'Passsword' and 'Confirm Password' didn't match. "),a.qZA(),a.qZA(),a.BQk())}function S(t,e){if(1&t&&(a.TgZ(0,"option",39),a._uU(1),a.qZA()),2&t){const t=e.$implicit;a.Q6J("value",t.school_id),a.xp6(1),a.Oqu(t.school_name)}}function I(t,e){if(1&t&&(a.TgZ(0,"option",39),a._uU(1),a.qZA()),2&t){const t=e.$implicit;a.Q6J("value",t.branch_id),a.xp6(1),a.Oqu(t.branch_name)}}const N=function(t,e){return{"is-invalid":t,"is-valid":e}},L=function(t){return{validation:"required",message:"Admission No is required",control:t}},E=function(t){return{validation:"pattern",message:"Admission No should have [A-Z] AND 5 DIGIT",control:t}};function V(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",7),a.TgZ(1,"label",8),a._uU(2,"School Admission No"),a.qZA(),a.TgZ(3,"input",40),a.NdJ("input",function(e){return a.CHM(t),a.oxw().SchoolAdmissionPrefixValidation(e.target)}),a.qZA(),a.GkF(4,10),a.GkF(5,10),a.TgZ(6,"span",41),a._uU(7," Admission No Prefix is wrong "),a.qZA(),a.TgZ(8,"label",11),a._uU(9,"This will be your reference no. for the application"),a.qZA(),a.qZA()}if(2&t){const t=a.oxw(),e=a.MAs(110);a.xp6(3),a.Q6J("ngClass",a.WLB(6,N,t.registrationForm.controls.school_admission_no.invalid,t.registrationForm.controls.school_admission_no.valid)),a.xp6(1),a.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",a.VKq(9,L,t.registrationForm.controls.school_admission_no)),a.xp6(1),a.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",a.VKq(11,E,t.registrationForm.controls.school_admission_no)),a.xp6(1),a.Q6J("hidden",t.AdmissionNoPrefixValidationLabel)}}function G(t,e){1&t&&(a.ynx(0),a.TgZ(1,"div",37),a.TgZ(2,"div",38),a._uU(3," 'Email' and 'Confirm Email' didn't match. "),a.qZA(),a.qZA(),a.BQk())}function M(t,e){1&t&&(a.ynx(0),a.TgZ(1,"span",42),a._uU(2,"Submit"),a.qZA(),a.BQk())}function Y(t,e){1&t&&(a.ynx(0),a.TgZ(1,"span",43),a._uU(2," Please wait... "),a._UZ(3,"span",44),a.qZA(),a.BQk()),2&t&&(a.xp6(1),a.Udp("display","block"))}function K(t,e){if(1&t&&(a.ynx(0),a.TgZ(1,"div",37),a.TgZ(2,"div",38),a.TgZ(3,"span",45),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.BQk()),2&t){const t=a.oxw().message;a.xp6(4),a.hij(" ",t," ")}}function B(t,e){if(1&t&&a.YNc(0,K,5,1,"ng-container",6),2&t){const t=e.control;a.Q6J("ngIf",t.hasError(e.validation)&&(t.dirty||t.touched))}}const j=function(t){return{validation:"required",message:"User Name is required",control:t}},$=function(t){return{validation:"minlength",message:"User Name should have at least 3 symbols",control:t}},D=function(t){return{validation:"maxLength",message:"Fullname should have maximum 100 symbols",control:t}},W=function(t){return{validation:"required",message:"Password is required",control:t}},H=function(t){return{validation:"minlength",message:"Password should have at least 8 characters",control:t}},R=function(t){return{validation:"required",message:"Confirm Password is required",control:t}},z=function(t){return{validation:"minlength",message:"Confirm Password should have at least 3 symbols",control:t}},X=function(t){return{validation:"maxLength",message:"Confirm Password should have maximum 100 symbols",control:t}},tt=function(t){return{validation:"required",message:"Candidate Type is required",control:t}},et=function(t){return{validation:"required",message:"School is required",control:t}},ot=function(t){return{validation:"required",message:"Branch is required",control:t}},nt=function(t){return{validation:"required",message:"Phone Number is required",control:t}},rt=function(t){return{validation:"minlength",message:"Phone Number should be 10 digit",control:t}},st=function(t){return{validation:"maxlength",message:"Phone Number should be 10 digit",control:t}},it=function(t){return{validation:"pattern",message:"Please enter only digits",control:t}},at=function(t){return{validation:"required",message:"Email is required",control:t}},lt=function(t){return{validation:"email",message:"Email is invalid",control:t}},mt=function(t){return{validation:"minlength",message:"Email should have at least 3 symbols",control:t}},ct=function(t){return{validation:"maxlength",message:"Email should have maximum 360 symbols",control:t}},ut=function(t){return{validation:"required",message:"Confirm Email is required",control:t}},dt=function(t){return{validation:"email",message:"Confirm Email is invalid",control:t}},gt=function(t){return{validation:"minlength",message:"Confirm Email should have at least 3 symbols",control:t}},pt=function(t){return{validation:"maxLength",message:"Confirm Email should have maximum 360 symbols",control:t}};let ft=(()=>{class t{constructor(t,e,o){this.fb=t,this.authService=e,this.router=o,this.contractTypeValid=!1,this.schools=[],this.AdmissionNoPrefixValidationLabel=!0,this.showMyContainer=!0,this.branch=[],this.message="",this.unsubscribe=[],this.isLoading$=this.authService.isLoading$}ngOnInit(){var t;this.initForm(),this.authService.school().subscribe(t=>{this.schools=t.schools}),null===(t=this.registrationForm.get("school_admission_no"))||void 0===t||t.disable()}load_braches(t){""!=t.value&&this.authService.branch(t.value).subscribe(t=>{this.branches=t.branches})}goToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}enableDisableSchoolAdmission(t){var e,o,n,s,i;9==t.value?(null===(e=this.registrationForm.get("school_admission_no"))||void 0===e||e.setValidators(null),null===(o=this.registrationForm.get("school_admission_no"))||void 0===o||o.setValue(""),this.showMyContainer=!1,this.contractTypeValid=!1):""==t.value||null==t.value?null===(n=this.registrationForm.get("school_admission_no"))||void 0===n||n.disable():(this.showMyContainer=!0,null===(s=this.registrationForm.get("school_admission_no"))||void 0===s||s.enable(),null===(i=this.registrationForm.get("school_admission_no"))||void 0===i||i.setValidators([r.kI.required,r.kI.pattern("^[A-Z][0-9]{5}$")]))}SchoolAdmissionPrefixValidation(t){var e,o;t.value.length>=1&&""!=(null===(e=this.registrationForm.get("branch"))||void 0===e?void 0:e.value)&&this.authService.getSchoolBranchDetails(null===(o=this.registrationForm.get("branch"))||void 0===o?void 0:o.value,t.value).subscribe(t=>{0==t.exist?(this.AdmissionNoPrefixValidationLabel=!1,this.contractTypeValid=!0):(this.AdmissionNoPrefixValidationLabel=!0,this.contractTypeValid=!1)})}get f(){return this.registrationForm.controls}initForm(){this.registrationForm=this.fb.group({user_name:["",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(100)])],candidate_type:["",r.kI.compose([r.kI.required])],school_admission_no:["",r.kI.compose([r.kI.required,r.kI.pattern("^[A-Z][0-9]{5}$")])],school:["",r.kI.compose([r.kI.required])],branch:["",r.kI.compose([r.kI.required])],contact_no_1:["",r.kI.compose([r.kI.required,r.kI.minLength(10),r.kI.maxLength(10),r.kI.pattern("^[0-9]*$")])],email:["",r.kI.compose([r.kI.required,r.kI.email,r.kI.minLength(3),r.kI.maxLength(320)])],confirm_email:["",r.kI.compose([r.kI.required,r.kI.email,r.kI.minLength(3),r.kI.maxLength(320)])],password:["",r.kI.compose([r.kI.required,r.kI.minLength(8)])],confirm_password:["",r.kI.compose([r.kI.required,r.kI.minLength(8)])],agree:[!1,r.kI.compose([r.kI.required])]},{validator:[y.MatchPassword,O.MatchEmail]})}claerData(){this.registrationForm.reset()}submit(){this.hasError=!1;const t={};Object.keys(this.f).forEach(e=>{t[e]=this.f[e].value});const e=new F;e.setUser(t);const o=this.authService.registration(e).pipe((0,m.P)()).subscribe(t=>{0==t.error?(document.getElementsByClassName("claerbtn")[0].click(),this.hasSuccess=!0,this.message=t.message):(this.hasError=!0,this.message=t.message)});this.unsubscribe.push(o),this.goToTop()}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(r.qu),a.Y36(c.e),a.Y36(i.F0))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-registration"]],decls:111,vars:133,consts:[["novalidate","novalidate","id","kt_login_signup_form",1,"form","w-100","fv-plugins-bootstrap5","fv-plugins-framework",3,"formGroup","ngSubmit"],[1,"mb-10","text-center"],[1,"text-dark","mb-4"],[1,"text-dark","mb-3"],[1,"text-gray-400","fw-bold","fs-4"],["routerLink","/auth/login",1,"link-primary","fw-bolder"],[4,"ngIf"],[1,"row","fv-row","mb-7"],[1,"form-label","fw-bolder","text-dark","fs-6","required"],["type","text","name","user_name","formControlName","user_name","placeholder","Enter your Passport/Sri Lankan NIC/Sri Lankan Postal ID","autocomplete","off",1,"form-control","form-control-lg","form-control-solid","uppercase",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-label","text-dark","fs-7"],["type","password","placeholder","Password","name","password","formControlName","password","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["type","password","appCopyPaste","","placeholder","Confirm password","name","confirm_password","autocomplete","off","formControlName","confirm_password",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["name","candidate_type","formControlName","candidate_type",1,"form-select","form-select-solid","form-select-lg"],["value",""],["value","1"],["value","2"],["name","school","formControlName","school",1,"form-select","form-select-solid","form-select-lg",3,"change"],[3,"value",4,"ngFor","ngForOf"],["placeholder","abc","name","branch","formControlName","branch",1,"form-select","form-select-solid","form-select-lg",3,"change"],["class","row fv-row mb-7",4,"ngIf"],["type","text","name","contact_no_1","formControlName","contact_no_1","placeholder","Phone Number (mobile)","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["type","email","placeholder","Email","name","email","formControlName","email","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["type","email","appCopyPaste","","placeholder","Confirm Email","name","confirm_email","formControlName","confirm_email","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],[1,"fv-row","mb-10"],[1,"form-check","form-check-custom","form-check-solid"],["for","kt_login_toc_agree",1,"form-check-label","fw-bold","text-gray-700","fs-6"],["hidden","","type","reset",1,"claerbtn",3,"click"],[1,"d-flex","justify-content-center","py-1"],[1,"me-4"],["type","submit","id","kt_sign_up_submit",1,"btn","btn-lg","btn-primary","mb-5",3,"disabled"],["routerLink","/auth/login","type","button","id","kt_login_signup_form_cancel_button",1,"btn","btn-lg","btn-light-primary","mb-5"],["formError",""],[1,"mb-lg-15","alert","alert-danger"],[1,"alert-text","font-weight-bold"],[1,"mb-lg-15","alert","alert-success"],[1,"fv-plugins-message-container"],[1,"fv-help-block"],[3,"value"],["type","text","name","school_admission_no","formControlName","school_admission_no","placeholder","School Admission No","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",3,"ngClass","input"],["role","alert",2,"color","#F1416C","font-size","1rem","font-weight","400",3,"hidden"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],["role","alert"]],template:function(t,e){if(1&t&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return e.submit()}),a.TgZ(1,"div",1),a.TgZ(2,"h1",2),a._uU(3,"Candidate Registration System for International Examinations"),a.qZA(),a.TgZ(4,"h1",3),a._uU(5,"New User Registration"),a.qZA(),a.TgZ(6,"div",4),a._uU(7," Already have an account? "),a.TgZ(8,"a",5),a._uU(9,"Sign in?"),a.qZA(),a.qZA(),a.qZA(),a.YNc(10,U,4,1,"ng-container",6),a.YNc(11,J,4,1,"ng-container",6),a.TgZ(12,"div",7),a.TgZ(13,"label",8),a._uU(14,"User Name"),a.qZA(),a._UZ(15,"input",9),a.GkF(16,10),a.GkF(17,10),a.GkF(18,10),a.TgZ(19,"label",11),a._uU(20,"Enter your Passport/Sri Lankan NIC/Sri Lankan Postal ID"),a.qZA(),a.qZA(),a.TgZ(21,"div",7),a.TgZ(22,"label",8),a._uU(23,"Password"),a.qZA(),a._UZ(24,"input",12),a.GkF(25,10),a.GkF(26,10),a.TgZ(27,"label",11),a._uU(28,"Use minimum of 8 characters with a mix of Capital letters, Simple Letters, numbers & symbols"),a.qZA(),a.qZA(),a.TgZ(29,"div",7),a.TgZ(30,"label",8),a._uU(31,"Confirm Password"),a.qZA(),a._UZ(32,"input",13),a.GkF(33,10),a.GkF(34,10),a.GkF(35,10),a.YNc(36,Q,4,0,"ng-container",6),a.qZA(),a.TgZ(37,"label",11),a._uU(38,"Keep this password in a secure place; as you need it login to the account"),a.qZA(),a.TgZ(39,"div",7),a.TgZ(40,"label",8),a._uU(41,"Candidate Type"),a.qZA(),a.TgZ(42,"select",14),a.TgZ(43,"option",15),a._uU(44,"Select a Candidate Type"),a.qZA(),a.TgZ(45,"option",16),a._uU(46,"School Candidate"),a.qZA(),a.TgZ(47,"option",17),a._uU(48,"Private Candidate"),a.qZA(),a.qZA(),a.GkF(49,10),a.qZA(),a.TgZ(50,"div",7),a.TgZ(51,"label",8),a._uU(52,"School Name"),a.qZA(),a.TgZ(53,"select",18),a.NdJ("change",function(t){return e.load_braches(t.target)}),a.TgZ(54,"option",15),a._uU(55,"Select a School"),a.qZA(),a.YNc(56,S,2,2,"option",19),a.qZA(),a.GkF(57,10),a.qZA(),a.TgZ(58,"div",7),a.TgZ(59,"label",8),a._uU(60,"School Branch"),a.qZA(),a.TgZ(61,"select",20),a.NdJ("change",function(t){return e.enableDisableSchoolAdmission(t.target)}),a.TgZ(62,"option",15),a._uU(63,"Select a Branch"),a.qZA(),a.YNc(64,I,2,2,"option",19),a.qZA(),a.GkF(65,10),a.qZA(),a.YNc(66,V,10,13,"div",21),a.TgZ(67,"div",7),a.TgZ(68,"label",8),a._uU(69,"Phone Number (mobile)"),a.qZA(),a._UZ(70,"input",22),a.GkF(71,10),a.GkF(72,10),a.GkF(73,10),a.GkF(74,10),a.qZA(),a.TgZ(75,"div",7),a.TgZ(76,"label",8),a._uU(77,"Email"),a.qZA(),a._UZ(78,"input",23),a.GkF(79,10),a.GkF(80,10),a.GkF(81,10),a.GkF(82,10),a.TgZ(83,"label",11),a._uU(84,"Provide a valid email address. This will be used to activate this account and to reset the password"),a.qZA(),a.qZA(),a.TgZ(85,"div",7),a.TgZ(86,"label",8),a._uU(87,"Confirm Email"),a.qZA(),a._UZ(88,"input",24),a.GkF(89,10),a.GkF(90,10),a.GkF(91,10),a.GkF(92,10),a.YNc(93,G,4,0,"ng-container",6),a.qZA(),a.TgZ(94,"div",25),a.TgZ(95,"div",26),a.TgZ(96,"label",27),a._uU(97," You will get an email and a SMS with a link to activate your account. Use one option to activate your account. "),a.qZA(),a.qZA(),a.qZA(),a.TgZ(98,"button",28),a.NdJ("click",function(){return e.claerData()}),a._uU(99,"clear"),a.qZA(),a.TgZ(100,"div",29),a.TgZ(101,"div",30),a.TgZ(102,"button",31),a.YNc(103,M,3,0,"ng-container",6),a.ALo(104,"async"),a.YNc(105,Y,4,2,"ng-container",6),a.ALo(106,"async"),a.qZA(),a.qZA(),a.TgZ(107,"a",32),a._uU(108," Cancel "),a.qZA(),a.qZA(),a.qZA(),a.YNc(109,B,1,1,"ng-template",null,33,a.W1O)),2&t){const t=a.MAs(110);a.Q6J("formGroup",e.registrationForm),a.xp6(8),a.Udp("margin-left","5px"),a.xp6(2),a.Q6J("ngIf",e.hasError),a.xp6(1),a.Q6J("ngIf",e.hasSuccess),a.xp6(4),a.Q6J("ngClass",a.WLB(69,N,e.registrationForm.controls.user_name.invalid,e.registrationForm.controls.user_name.valid)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(72,j,e.registrationForm.controls.user_name)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(74,$,e.registrationForm.controls.user_name)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(76,D,e.registrationForm.controls.user_name)),a.xp6(6),a.Q6J("ngClass",a.WLB(78,N,e.registrationForm.controls.password.invalid,e.registrationForm.controls.password.valid)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(81,W,e.registrationForm.controls.password)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(83,H,e.registrationForm.controls.password)),a.xp6(6),a.Q6J("ngClass",a.WLB(85,N,e.registrationForm.controls.confirm_password.invalid,e.registrationForm.controls.confirm_password.valid)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(88,R,e.registrationForm.controls.confirm_password)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(90,z,e.registrationForm.controls.confirm_password)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(92,X,e.registrationForm.controls.confirm_password)),a.xp6(1),a.Q6J("ngIf",e.registrationForm.controls.confirm_password.errors&&e.registrationForm.controls.confirm_password.errors.ConfirmPassword),a.xp6(13),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(94,tt,e.registrationForm.controls.candidate_type)),a.xp6(7),a.Q6J("ngForOf",e.schools),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(96,et,e.registrationForm.controls.school)),a.xp6(7),a.Q6J("ngForOf",e.branches),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(98,ot,e.registrationForm.controls.branch)),a.xp6(1),a.Q6J("ngIf",e.showMyContainer),a.xp6(4),a.Q6J("ngClass",a.WLB(100,N,e.registrationForm.controls.contact_no_1.invalid,e.registrationForm.controls.contact_no_1.valid)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(103,nt,e.registrationForm.controls.contact_no_1)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(105,rt,e.registrationForm.controls.contact_no_1)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(107,st,e.registrationForm.controls.contact_no_1)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(109,it,e.registrationForm.controls.contact_no_1)),a.xp6(4),a.Q6J("ngClass",a.WLB(111,N,e.registrationForm.controls.email.invalid,e.registrationForm.controls.email.valid)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(114,at,e.registrationForm.controls.email)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(116,lt,e.registrationForm.controls.email)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(118,mt,e.registrationForm.controls.email)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(120,ct,e.registrationForm.controls.email)),a.xp6(6),a.Q6J("ngClass",a.WLB(122,N,e.registrationForm.controls.confirm_email.invalid,e.registrationForm.controls.confirm_email.valid)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(125,ut,e.registrationForm.controls.confirm_email)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(127,dt,e.registrationForm.controls.confirm_email)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(129,gt,e.registrationForm.controls.confirm_email)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(131,pt,e.registrationForm.controls.confirm_email)),a.xp6(1),a.Q6J("ngIf",e.registrationForm.controls.confirm_email.errors&&(null==e.registrationForm.controls.confirm_email.errors?null:e.registrationForm.controls.confirm_email.errors.mismatch)),a.xp6(9),a.Q6J("disabled",e.registrationForm.invalid||e.contractTypeValid),a.xp6(1),a.Q6J("ngIf",!1===a.lcZ(104,65,e.isLoading$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(106,67,e.isLoading$))}},directives:[r._Y,r.JL,r.sg,i.yS,n.O5,r.Fj,r.JJ,r.u,n.mk,n.tP,P,r.EJ,r.YN,r.Kr,n.sg],pipes:[n.Ov],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}.uppercase[_ngcontent-%COMP%]{text-transform:uppercase}"]}),t})();function ht(t,e){1&t&&(a.ynx(0),a.TgZ(1,"div",14),a.TgZ(2,"div",15),a._uU(3," Sorry, looks like there are some errors detected, please try again. "),a.qZA(),a.qZA(),a.BQk())}function vt(t,e){1&t&&(a.ynx(0),a.TgZ(1,"div",16),a.TgZ(2,"div",17),a._uU(3,"Your request was successful. You will receive an email with instructions."),a.qZA(),a.qZA(),a.BQk())}function bt(t,e){1&t&&(a.ynx(0),a.TgZ(1,"span",18),a._uU(2," Please wait... "),a._UZ(3,"span",19),a.qZA(),a.BQk())}function _t(t,e){if(1&t&&(a.ynx(0),a.TgZ(1,"div",20),a.TgZ(2,"div",21),a.TgZ(3,"span",22),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.BQk()),2&t){const t=a.oxw().message;a.xp6(4),a.Oqu(t)}}function Zt(t,e){if(1&t&&a.YNc(0,_t,5,1,"ng-container",4),2&t){const t=e.control;a.Q6J("ngIf",t.hasError(e.validation)&&(t.dirty||t.touched))}}const xt=function(t,e){return{"is-invalid":t,"is-valid":e}},wt=function(t){return{validation:"required",message:"Username is required",control:t}},Tt=function(t){return{validation:"user_name",message:"Username is invalid",control:t}},qt=function(t){return{validation:"minLength",message:"Username should have at least 3 symbols",control:t}},kt=function(t){return{validation:"maxLength",message:"Username should have maximum 360 symbols",control:t}};var At=(()=>(function(t){t[t.NotSubmitted=0]="NotSubmitted",t[t.HasError=1]="HasError",t[t.NoError=2]="NoError"}(At||(At={})),At))();let Ct=(()=>{class t{constructor(t,e){this.fb=t,this.authService=e,this.errorState=At.NotSubmitted,this.errorStates=At,this.unsubscribe=[],this.isLoading$=this.authService.isLoading$}ngOnInit(){this.isSubmitted=!1,this.initForm()}get f(){return this.forgotPasswordForm.controls}initForm(){this.forgotPasswordForm=this.fb.group({user_name:["CADE",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(320)])]})}submit(){this.isSubmitted=!0,this.errorState=At.NotSubmitted;const t=this.authService.forgotPassword(this.f.user_name.value).pipe((0,m.P)()).subscribe(t=>{this.errorState=t?At.NoError:At.HasError});this.unsubscribe.push(t)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(r.qu),a.Y36(c.e))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-forgot-password"]],decls:26,vars:28,consts:[["novalidate","novalidate","id","kt_login_password_reset_form",1,"form","w-100","fv-plugins-bootstrap5","fv-plugins-framework",3,"formGroup","ngSubmit"],[1,"text-center","mb-10"],[1,"text-dark","mb-3"],[1,"text-gray-400","fw-bold","fs-4"],[4,"ngIf"],[1,"fv-row","mb-10"],[1,"form-label","fw-bolder","text-gray-900","fs-6"],["type","text","formControlName","user_name","placeholder","Username","name","user_name","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",2,"text-transform","uppercase",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","flex-wrap","justify-content-center","pb-lg-0"],["type","submit","id","kt_password_reset_submit",1,"btn","btn-lg","btn-primary","fw-bolder","me-4",3,"disabled"],[1,"indicator-label"],["routerLink","/auth/login","id","kt_login_password_reset_form_cancel_button",1,"btn","btn-lg","btn-light-primary","fw-bolder"],["formError",""],[1,"mb-lg-15","alert","alert-danger"],[1,"alert-text","font-weight-bold"],[1,"mb-10","bg-light-info","p-8","rounded"],[1,"text-info"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"fv-plugins-message-container"],[1,"fv-help-block"],["role","alert"]],template:function(t,e){if(1&t&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return e.submit()}),a.TgZ(1,"div",1),a.TgZ(2,"h1",2),a._uU(3,"Candidate Registration System for International Examinations"),a.qZA(),a.TgZ(4,"div",3),a._uU(5," Resetting Your Password "),a.qZA(),a.qZA(),a.YNc(6,ht,4,0,"ng-container",4),a.YNc(7,vt,4,0,"ng-container",4),a.TgZ(8,"div",5),a.TgZ(9,"label",6),a._uU(10,"Username"),a.qZA(),a._UZ(11,"input",7),a.GkF(12,8),a.GkF(13,8),a.GkF(14,8),a.GkF(15,8),a.qZA(),a.TgZ(16,"div",9),a.TgZ(17,"button",10),a.TgZ(18,"span",11),a._uU(19,"Submit"),a.qZA(),a.YNc(20,bt,4,0,"ng-container",4),a.ALo(21,"async"),a.qZA(),a.TgZ(22,"a",12),a._uU(23," Cancel "),a.qZA(),a.qZA(),a.qZA(),a.YNc(24,Zt,1,1,"ng-template",null,13,a.W1O)),2&t){const t=a.MAs(25);a.Q6J("formGroup",e.forgotPasswordForm),a.xp6(6),a.Q6J("ngIf",e.errorState===e.errorStates.HasError),a.xp6(1),a.Q6J("ngIf",e.errorState===e.errorStates.NoError),a.xp6(4),a.Q6J("ngClass",a.WLB(17,xt,e.forgotPasswordForm.controls.user_name.invalid,e.forgotPasswordForm.controls.user_name.valid)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(20,wt,e.forgotPasswordForm.controls.user_name)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(22,Tt,e.forgotPasswordForm.controls.user_name)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(24,qt,e.forgotPasswordForm.controls.user_name)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(26,kt,e.forgotPasswordForm.controls.user_name)),a.xp6(2),a.Q6J("disabled",e.forgotPasswordForm.invalid)("disabled",e.isSubmitted),a.xp6(3),a.Q6J("ngIf",a.lcZ(21,15,e.isLoading$))}},directives:[r._Y,r.JL,r.sg,n.O5,r.Fj,r.JJ,r.u,n.mk,n.tP,i.yS],pipes:[n.Ov],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),t})(),yt=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.authService.logout()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(c.e),a.Y36(i.F0))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-logout"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})();class Ft{static MatchPassword(t){var e,o,n;(null===(e=t.get("password"))||void 0===e?void 0:e.value)!==(null===(o=t.get("confirm_password"))||void 0===o?void 0:o.value)&&(null===(n=t.get("confirm_password"))||void 0===n||n.setErrors({ConfirmPassword:!0}))}}function Ot(t,e){if(1&t&&(a.ynx(0),a.TgZ(1,"div",15),a.TgZ(2,"div",16),a._uU(3),a.qZA(),a.qZA(),a.BQk()),2&t){const t=a.oxw();a.xp6(3),a.hij(" ",t.errorMessage," ")}}function Pt(t,e){1&t&&(a.ynx(0),a.TgZ(1,"div",17),a.TgZ(2,"div",18),a._uU(3,"Your request was successful. Please login."),a.qZA(),a.qZA(),a.BQk())}function Ut(t,e){1&t&&(a.ynx(0),a.TgZ(1,"span",19),a._uU(2," Please wait... "),a._UZ(3,"span",20),a.qZA(),a.BQk())}function Jt(t,e){if(1&t&&(a.ynx(0),a.TgZ(1,"div",21),a.TgZ(2,"div",22),a.TgZ(3,"span",23),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.BQk()),2&t){const t=a.oxw().message;a.xp6(4),a.Oqu(t)}}function Qt(t,e){if(1&t&&a.YNc(0,Jt,5,1,"ng-container",4),2&t){const t=e.control;a.Q6J("ngIf",t.hasError(e.validation)&&(t.dirty||t.touched))}}const St=function(t,e){return{"is-invalid":t,"is-valid":e}},It=function(t){return{validation:"required",message:"Password is required",control:t}},Nt=function(t){return{validation:"password",message:"Password is invalid",control:t}},Lt=function(t){return{validation:"minLength",message:"Password should have at least 3 symbols",control:t}},Et=function(t){return{validation:"maxLength",message:"Password should have maximum 360 symbols",control:t}},Vt=function(t){return{validation:"required",message:"Confirm Password is required",control:t}},Gt=function(t){return{validation:"confirm_password",message:"Confirm Password is invalid",control:t}},Mt=function(t){return{validation:"minLength",message:"Confirm Password should have at least 3 symbols",control:t}},Yt=function(t){return{validation:"maxLength",message:"Confirm Password should have maximum 360 symbols",control:t}};var Kt=(()=>(function(t){t[t.NotSubmitted=0]="NotSubmitted",t[t.HasError=1]="HasError",t[t.NoError=2]="NoError"}(Kt||(Kt={})),Kt))();const Bt=[{path:"",component:l,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:C,data:{returnUrl:window.location.pathname}},{path:"registration",component:ft},{path:"forgot-password",component:Ct},{path:"reset-password",component:(()=>{class t{constructor(t,e,o,n){this.fb=t,this.authService=e,this.route=o,this.router=n,this.errorState=Kt.NotSubmitted,this.errorStates=Kt,this.unsubscribe=[],this.isLoading$=this.authService.isLoading$}ngOnInit(){this.initForm(),this.route.queryParams.subscribe(t=>{this.token_id=t.token_id,this.authService.resetPasswordCheck(this.token_id).subscribe(t=>{t||this.router.navigate(["/auth/login"])})})}get f(){return this.resetPasswordForm.controls}initForm(){this.resetPasswordForm=this.fb.group({password:["",r.kI.compose([r.kI.required,r.kI.minLength(8),r.kI.maxLength(100)])],confirm_password:["",r.kI.compose([r.kI.required,r.kI.minLength(8),r.kI.maxLength(100)])]},{validator:[Ft.MatchPassword]})}submit(){this.errorState=Kt.NotSubmitted;const t=this.authService.resetPassword(this.f.password.value,this.token_id).pipe((0,m.P)()).subscribe(t=>{this.errorState=t.error?Kt.HasError:Kt.NoError,this.errorMessage=t.message,0==t.error&&(localStorage.setItem("reset_message","true"),this.router.navigate(["/auth/login"]))});this.unsubscribe.push(t)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(r.qu),a.Y36(c.e),a.Y36(i.gz),a.Y36(i.F0))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-reset-password"]],decls:34,vars:47,consts:[["novalidate","novalidate","id","kt_login_password_reset_form",1,"form","w-100","fv-plugins-bootstrap5","fv-plugins-framework",3,"formGroup","ngSubmit"],[1,"text-center","mb-10"],[1,"text-dark","mb-3"],[1,"text-gray-400","fw-bold","fs-4"],[4,"ngIf"],[1,"fv-row","mb-10"],[1,"form-label","fw-bolder","text-gray-900","fs-6"],["type","password","formControlName","password","placeholder","Password","name","password","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","password","formControlName","confirm_password","placeholder","Confirm Password","name","confirm_password","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],[1,"d-flex","flex-wrap","justify-content-center","pb-lg-0"],["type","submit","id","kt_password_reset_submit",1,"btn","btn-lg","btn-primary","fw-bolder","me-4",3,"disabled"],[1,"indicator-label"],["routerLink","/auth/login","id","kt_login_password_reset_form_cancel_button",1,"btn","btn-lg","btn-light-primary","fw-bolder"],["formError",""],[1,"mb-lg-15","alert","alert-danger"],[1,"alert-text","font-weight-bold"],[1,"mb-10","bg-light-info","p-8","rounded"],[1,"text-info"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"fv-plugins-message-container"],[1,"fv-help-block"],["role","alert"]],template:function(t,e){if(1&t&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return e.submit()}),a.TgZ(1,"div",1),a.TgZ(2,"h1",2),a._uU(3,"Candidate Registration System for International Examinations"),a.qZA(),a.TgZ(4,"div",3),a._uU(5," Resetting Your Password "),a.qZA(),a.qZA(),a.YNc(6,Ot,4,1,"ng-container",4),a.YNc(7,Pt,4,0,"ng-container",4),a.TgZ(8,"div",5),a.TgZ(9,"label",6),a._uU(10,"Enter New Password"),a.qZA(),a._UZ(11,"input",7),a.GkF(12,8),a.GkF(13,8),a.GkF(14,8),a.GkF(15,8),a.qZA(),a.TgZ(16,"div",5),a.TgZ(17,"label",6),a._uU(18,"Re-enter New Password"),a.qZA(),a._UZ(19,"input",9),a.GkF(20,8),a.GkF(21,8),a.GkF(22,8),a.GkF(23,8),a.qZA(),a.TgZ(24,"div",10),a.TgZ(25,"button",11),a.TgZ(26,"span",12),a._uU(27,"Submit"),a.qZA(),a.YNc(28,Ut,4,0,"ng-container",4),a.ALo(29,"async"),a.qZA(),a.TgZ(30,"a",13),a._uU(31," Cancel "),a.qZA(),a.qZA(),a.qZA(),a.YNc(32,Qt,1,1,"ng-template",null,14,a.W1O)),2&t){const t=a.MAs(33);a.Q6J("formGroup",e.resetPasswordForm),a.xp6(6),a.Q6J("ngIf",e.errorState===e.errorStates.HasError),a.xp6(1),a.Q6J("ngIf",e.errorState===e.errorStates.NoError),a.xp6(4),a.Q6J("ngClass",a.WLB(25,St,e.resetPasswordForm.controls.password.invalid,e.resetPasswordForm.controls.password.valid)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(28,It,e.resetPasswordForm.controls.password)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(30,Nt,e.resetPasswordForm.controls.password)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(32,Lt,e.resetPasswordForm.controls.password)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(34,Et,e.resetPasswordForm.controls.password)),a.xp6(4),a.Q6J("ngClass",a.WLB(36,St,e.resetPasswordForm.controls.confirm_password.invalid,e.resetPasswordForm.controls.confirm_password.valid)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(39,Vt,e.resetPasswordForm.controls.confirm_password)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(41,Gt,e.resetPasswordForm.controls.confirm_password)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(43,Mt,e.resetPasswordForm.controls.confirm_password)),a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(45,Yt,e.resetPasswordForm.controls.confirm_password)),a.xp6(2),a.Q6J("disabled",e.resetPasswordForm.invalid),a.xp6(3),a.Q6J("ngIf",a.lcZ(29,23,e.isLoading$))}},directives:[r._Y,r.JL,r.sg,n.O5,r.Fj,r.JJ,r.u,n.mk,n.tP,i.yS],pipes:[n.Ov],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),t})()},{path:"logout",component:yt},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login",pathMatch:"full"}]}];let jt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[i.Bz.forChild(Bt)],i.Bz]}),t})(),$t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[n.ez,u.aw],u.aw]}),t})(),Dt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[n.ez,$t,jt,r.u5,r.UX,s.JF]]}),t})()}}]);